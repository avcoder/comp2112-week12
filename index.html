<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- SEO -->
    <title>WebSlides: Making HTML presentations easy</title>
    <meta
      name="description"
      content="WebSlides is the easiest way to make HTML presentations, portfolios, and landings. Just essential features."
    />

    <!-- URL CANONICAL -->
    <!-- <link rel="canonical" href="http://your-url.com/"> -->

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext"
      rel="stylesheet"
    />

    <!-- CSS WebSlides -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="././static/css/webslides.css"
    />

    <!-- Optional - CSS SVG Icons (Font Awesome) -->
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="./static/css/svg-icons.css"
    />

    <!-- SOCIAL CARDS (ADD YOUR INFO) -->

    <!-- FACEBOOK -->
    <meta property="og:url" content="http://your-url.com/" />
    <!-- YOUR URL -->
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="WebSlides — Making HTML Presentations Easy"
    />
    <!-- EDIT -->
    <meta
      property="og:description"
      content="WebSlides is about telling stories beautifully. Just the essential features. Good karma."
    />
    <!-- EDIT -->
    <meta property="og:updated_time" content="2017-01-04T17:20:50" />
    <!-- EDIT -->
    <meta property="og:image" content="./static/images/share-webslides.jpg" />
    <!-- EDIT -->

    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@webslides" />
    <!-- EDIT -->
    <meta name="twitter:creator" content="@jlantunez" />
    <!-- EDIT -->
    <meta
      name="twitter:title"
      content="WebSlides — Making HTML Presentations Easy"
    />
    <!-- EDIT -->
    <meta
      name="twitter:description"
      content="WebSlides is about good karma. Just essential features. 120+ free slides ready to use."
    />
    <!-- EDIT -->
    <meta name="twitter:image" content="./static/images/share-webslides.jpg" />
    <!-- EDIT -->

    <!-- FAVICONS -->
    <link
      rel="shortcut icon"
      sizes="16x16"
      href="./static/images/favicons/favicon.png"
    />
    <link
      rel="shortcut icon"
      sizes="32x32"
      href="./static/images/favicons/favicon-32.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="76x76"
      href="./static/images/favicons/favicon-76.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="120x120"
      href="./static/images/favicons/favicon-120.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="152x152"
      href="./static/images/favicons/favicon-152.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="180x180"
      href="./static/images/favicons/favicon-180.png"
    />
    <link
      rel="apple-touch-icon icon"
      sizes="192x192"
      href="./static/images/favicons/favicon-192.png"
    />

    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#333333" />
    <style>
      input[type="range"] {
        -webkit-appearance: none;
        background: #333;
        border: none;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        border: none;
        height: 16px;
        width: 120px;
        background: lime;
        margin-top: -4px;
      }

      input[type="range"]::-moz-range-thumb {
        border: none;
        height: 16px;
        width: 120px;
        background: lime;
        margin-top: -4px;
        border-radius: 0;
      }
    </style>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
      integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
  </head>

  <body>
    <header role="banner">
      <nav role="navigation">
        <p class="logo"><a href="index.html" title="WebSlides">WebSlides</a></p>
        <ul>
          <li class="github">
            <a
              rel="external"
              href="https://github.com/avcoder/comp2112-week12"
              title="Github"
            >
              <svg class="fa-github"><use xlink:href="#fa-github"></use></svg>
              <em>WebSlides</em>
            </a>
          </li>
          <li class="twitter">
            <a
              rel="external"
              href="https://twitter.com/webslides"
              title="Twitter"
            >
              <svg class="fa-twitter"><use xlink:href="#fa-twitter"></use></svg>
              <em>@WebSlides</em>
            </a>
          </li>
          <!--
            <li class="dribbble"><a rel="external" href="http://dribbble.com/webslides" title="Dribbble"><svg class="fa-dribbble"><use xlink:href="#fa-dribbble"></use></svg> <em>webslides</em></a></li>
          -->
        </ul>
      </nav>
    </header>

    <main role="main">
      <article id="webslides" class="horizontal">
        <!--
          Quick Guide
          - Each parent <section> in the <article id="webslides"> element is an individual slide.
          - Vertical sliding = <article id="webslides" class="vertical">
          - <div class="wrap"> = container 90% / <div class="wrap size-50"> = 45%;
        -->

        <section class="bg-primary">
          <!-- Credit: image from unsplash.com -->
          <span
            class="background"
            style="background-image:url('./static/images/splash.jpg'); filter: opacity(.2);"
          >
          </span>
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap aligncenter">
            <h1>
              <strong
                >service workers, PWA, geolocation API, google maps API
              </strong>
            </h1>
            <p class="text-intro">Week 12 <br />COMP 2112</p>
            <p>
              <a
                href="https://github.com/avcoder/comp2112-week12"
                class="button zoomIn"
                title="Download WebSlides for free"
              >
                <svg class="fa-github"><use xlink:href="#fa-github"></use></svg>
                Class Notes
              </a>
            </p>
          </div>
          <!-- .end .wrap -->
        </section>

        <section class="">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap size-50 aligncenter">
            <h2><strong>To Do Today:</strong></h2>
            <br />
            <div class="bg-white shadow">
              <ul class="flexblock reasons">
                <li>
                  <h2>geolocation + google maps</h2>
                  <p>
                    How do get your latitude and longitude from your browser and
                    using that info on google maps
                  </p>
                </li>
                <li>
                  <h2>service workers</h2>
                  <p>Learn about service workers</p>
                </li>
                <li>
                  <h2>Build a PWA using VueCLI</h2>
                  <p>Let's build a simple progressive web app using VueCLI</p>
                </li>
                <li>
                  <h2>Work period for Assignment 2 or Presentation</h2>
                </li>
              </ul>
            </div>
            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
        </section>

      <section class="bg-apple">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap size-70 aligncenter">
            <h2>geolocation API</h2>
<pre><code><h4>
navigator.geolocation.getCurrentPosition(function(position) {
  console.log(position.coords.latitude, position.coords.longitude);
});
</h4></code></pre>            
<p class="text-intro">Instead of getCurrentPosition, use watchPosition; make it display coordinates, then host it and try on your phone</p>
            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
      </section>        

      <section class="bg-apple">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap size-70 aligncenter">
            <h2><a href="https://developers.google.com/maps/documentation/javascript/tutorial">Google maps API Overview</a></h2>
            <p class="text-intro">In-class Exercise 12: Combine geolocation with google maps so that maps focuses on where you currently are.</p>

            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
      </section>        
      

        <section class="">
            <!-- .wrap = container (width: 90%) -->
            <div class="wrap size-50 aligncenter">
              <h2><a href="https://goomap-jkbltftcjn.now.sh/phone">https://goomap-jkbltftcjn.now.sh/phone</a></h2>
              
              <div class="bg-white shadow">
<pre><code><h5>
function initMap() {
  // check my c:/users/me/node/goomap/ for code
  navigator.geolocation.watchPosition(function(position) {
    here = {
      lat: position.coords.latitude,
      lng: position.coords.longitude
    };
    console.log(here);
    
    var map = new google.maps.Map(document.getElementById("map"), {
      zoom: 20,
      center: here
    });
    
    var marker = new google.maps.Marker({ position: here, map: map });
  });
}
</h5></code></pre>
              </div>
              <!-- .end .bg-white shadow -->
            </div>
            <!-- .end .wrap -->
          </section>        


      <section class="">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap size-40 aligncenter">
            <h2>Progressive Web Apps - PWAs</h2>
<ul class="flexblock reasons">
  <li class="text-intro">Served over https</li>
  <li class="text-intro">Contains a web app manifest file</li>
  <li class="text-intro">Runs a service worker in the background</li>
</ul>
<br><br>
<p class="text-intro">For other criteria: Goto <a href="https://code.nasa.gov">https://code.nasa.gov</a> then use Google's DevTools>Audit tab to test if it passes its PWA test</p>
            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
      </section>                  
        
        <section class="bg-primary">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap">
            <div class="grid vertical-align">
              <div class="column bg-purple">
                  <h2><strong>Modern Use Cases:</strong></h2>
                  <br />
                  <div>
                    <ul class="flexblock specs">
                      <li class="text-intro">Offline</li>
                      <li class="text-intro">Slow connection (want faster experience)</li>
                      <li class="text-intro">Unreliable connection</li>
                    </ul>
                  </div>
              </div>
              <div class="column bg-apple">
                  <h2><strong>Old solutions:</strong></h2>
                  <br />
                  <div>
                    <ul class="flexblock specs">
                      <li class="text-intro">Google gears</li>
                      <li class="text-intro">Application cache</li>
                      <li class="text-intro">Apache Cordova / Phonegap</li>
                    </ul>
                  </div>
              </div>
              <div class="column bg-white">
                  <h2><strong>New solution:<Br>Service worker</strong></h2>
                  <br />
                  <div>
                    <ul class="flexblock specs">
                      <li class="text-intro">Built upon web workers</li>
                      <li class="text-intro">Manages a scope (a domain folder)</li>
                      <li class="text-intro">Works detached from any browser's tab or PWA process</li>
                    </ul>
                  </div>
              </div>
            </div>
          </div>

            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
        </section>

    <section class="">
        <!-- .wrap = container (width: 90%) -->
        <div class="wrap size-50 aligncenter">
                <h2>Service worker acts like a proxy</h2>
                <img src="./static/images/scope.PNG" style="width:517px " alt="Service worker acts like a proxy">
                <p class="text-intro">It can see all the requests made by the web page or PWA</p>
          <!-- .end .bg-white shadow -->
        </div>
        <!-- .end .wrap -->
    </section>

    <section class="bg-apple">
        <!-- .wrap = container (width: 90%) -->
        <div class="wrap size-90 aligncenter">
          <div class="grid vertical-align">
            <div class="column">    
                <div>
                  <h2>Offline Web</h2>
                  <ul class="flexblock reasons">
                      <li class="text-intro">Goto chrome://serviceworker-internals<br><small>or about:debugging#workers on Firefox</small></li>
                      <li class="text-intro"><p>On another tab, goto <a href="https://code.nasa.gov/">https://code.nasa.gov/</a></p></li>
                      <li class="text-intro">Close tab, then Turn off wifi</li>
                      <li class="text-intro">Verify internet not working, then reopen code.nasa.gov</li>
                      <li class="text-intro">Try making up a path like code.nasa.gov/anything</li>
                      <li class="text-intro">Close tab again, and wait for Running Status to change from RUNNING to STOPPED</li>
                    </ul>
                  
                </div>
            </div>
            <div class="column">            
                <h2>Service worker lifecycle</h2>
                <img src="./static/images/lifecycle.PNG" alt="Service worker lifecycle">
            </div>                
          </div>
        </div>
          <!-- .end .bg-white shadow -->
        </div>
        <!-- .end .wrap -->
      </section>


        <section class="">
            <!-- .wrap = container (width: 90%) -->
            <div class="wrap size-90 aligncenter">
              <div class="grid vertical-align">
                <div class="column">
                    <h2><strong>What is a Web Worker?</strong></h2>
                    <br />
                    <div>
                      <ul class="flexblock specs">
                        <li class="text-intro">It's a JS file running in its own thread</li>
                        <li class="text-intro">Service workers also have their own process</li>
                        <li class="text-intro">Can import other files</li>
                        <li class="text-intro">has no access to a user interface</li>
                        <li class="text-intro">no DOM, no innerHTML, no window object</li>
                      </ul>
                    </div>
                </div>
                <div class="column">
                    <h2><strong>Service workers also manage a scope (a domain folder)</strong></h2>
                    <br />
                    <div>
                      <ul class="flexblock specs">
                        <li class="text-intro">Scope = Protocol + Host + Port</li>
                        <li class="text-intro">For example: https://mydomain.com is 1 scope</li>
                        <li class="text-intro">https://mydomain.com/myapp is a different scope</li>
                        <li class="text-intro">https://mydomain.com:8050 is a different scope</li>
                        <li class="text-intro">https://subdomain.mydomain.com is a different scope</li>
                      </ul>
                    </div>
                </div>                
              </div>
            </div>
              <!-- .end .bg-white shadow -->
            </div>
            <!-- .end .wrap -->
          </section>

  

    <section class="">
        <!-- .wrap = container (width: 90%) -->
        <div class="wrap size-50 aligncenter">
          <div class="bg-white shadow">
              <h2>Abilities</h2>
              <br />
            <ul class="flexblock specs">
                <li class="text-intro">Service workers can see all the network requests that pages in the scope are requesting</li>
                <li class="text-intro">Then it can respond to those requests, by taking responses from a cache (even if offline) or fetching them or creating responses on the fly (like a web server)</li>
                <li class="text-intro">It can also receive messages from the server when web app is closed (via push notification messages)</li>
                <li class="text-intro">There is no permission required to register service workers</li>
              </ul>
  
          </div>
          <!-- .end .bg-white shadow -->
        </div>
        <!-- .end .wrap -->
    </section>  

    <section class="bg-apple">
        <!-- .wrap = container (width: 90%) -->
        <div class="wrap size-50 aligncenter">
          <h3>1) Create index.html</h3>
          <div class="bg-white shadow">
<pre><code><h5>&lt;h1>Service Worker Test&lt;/h1>
&lt;p>&lt;/p>
&lt;script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker
      .register("serviceworker.js")
      .then(registration => {
        document.querySelector("p").textContent =
          "Service Worker registered properly";
      })
      .catch(error => {
        document.querySelector("p").textContent =
          "Service Worker NOT registered";
      });
  } else {
    document.querySelector("p").textContent =
      "Service Worker NOT available";
  }
&lt;/script>
</h5></code></pre>
          </div>
          <!-- .end .bg-white shadow -->
        </div>
        <!-- .end .wrap -->
      </section>          

      <section class="bg-apple">
          <!-- .wrap = container (width: 90%) -->
          <div class="wrap size-50 aligncenter">
            <h3>2) Create serviceworker.js (in same folder as index.html)</h3>
            <div class="bg-white shadow">
<pre><code><h5>
console.log('We are a service worker');

// listen to events via self
self.addEventListener('install', (event) => {
  console.log('Install event just happened');
});

self.addEventListener('activate', (event) => {
  console.log('Activate event just happened');
}); 
  </h5></code></pre>
            </div>
            <!-- .end .bg-white shadow -->
          </div>
          <!-- .end .wrap -->
        </section>          

        <section class="bg-apple">
            <!-- .wrap = container (width: 90%) -->
            <div class="wrap size-50 aligncenter">
              <h3>3) Launch index.html in a local server</h3>
              <br>
              <ul class="flexblock specs">
                <li class="text-intro">View console to view messages</li>
                <li class="text-intro">View Application tab in devtools (fyi: can drag folder); click Service Workers</li>
                <li class="text-intro">Notice we can stop, start, update, unregister, etc. our service worker</li>
                <li class="text-intro">Open new tabs to same address; notice Clients increments</li>
                <li class="text-intro">In console type: alert('hi'); type: this; then change from top to serviceworker; try again</li>
                <li class="text-intro">Checkbox "Update on reload" then refresh; notice status id# increments</li>
              </ul>
              <!-- .end .bg-white shadow -->
            </div>
            <!-- .end .wrap -->
          </section>         

          <section class="bg-primary">
              <!-- .wrap = container (width: 90%) -->
              <div class="wrap size-50 aligncenter">
                <h3>Listening for fetch events</h3>
                <div class="bg-white shadow">
<pre><code><h5>
try {
  importScripts("events.js");
} catch (e) {
  console.log(e);
}

self.addEventListener("fetch", event => {
  console.log(`Trying to GET somewhere? ${event.request.url}`);
});  
</h5></code></pre>
                </div>
                <!-- .end .bg-white shadow -->
              </div>
              <!-- .end .wrap -->
            </section>          

            <section class="bg-primary">
                <!-- .wrap = container (width: 90%) -->
                <div class="wrap size-50 aligncenter">
                  <h3>Responding with text</h3>
                  <div class="bg-white shadow">
<pre><code><h5>
self.addEventListener("fetch", event => {
  const response = new Response(
    `Trying to GET somewhere? ${event.request.url}`
  );
  event.respondWith(response);
});    
</h5></code></pre>
                  </div>
                  <!-- .end .bg-white shadow -->
                </div>
                <!-- .end .wrap -->
              </section>         

              <section class="bg-primary">
                  <!-- .wrap = container (width: 90%) -->
                  <div class="wrap size-50 aligncenter">
                      <h2>Responding with HTML</h2>
                    <div class="bg-white shadow">
                      
<pre><code><h5>
self.addEventListener("fetch", event => {
  const body = `
    &lt;!DOCTYPE html>
    &lt;html lang="en">
        ...
        &lt;body>
        &lt;h1>Hello world&lt;/h1>
        &lt;/body>
    &lt;/html>
    `;
  const response = new Response(body, {
    status: 200,
    statusText: "OK",
    headers: {
      "Content-type": "text/html"
    }
  });
  event.respondWith(response);
});  
</h5></code></pre>
                    </div>
                    <!-- .end .bg-white shadow -->
                  </div>
                  <!-- .end .wrap -->
                </section>    


                <section class="bg-primary">
                    <!-- .wrap = container (width: 90%) -->
                    <div class="wrap size-80 aligncenter">
                      <img src="./static/images/pwa.PNG" alt="pwa in vue cli">
                      <!-- .end .bg-white shadow -->
                    </div>
                    <!-- .end .wrap -->
                  </section>         





        <section>
          <!-- .wrap = container (width: 90%) -->
          <div class=" wrap ">
            <h2 class="alignleft "><strong>References</strong></h2>
          </div>
          <ol>
            <li>https://www.youtube.com/watch?v=KeFdy1kVH4A - Net Ninja</li>
            <li>https://vuejs.org</li>
            <li>
              https://www.youtube.com/watch?v=95SOyRUH7P8 CSS-Tricks Screencast
              #159
            </li>
            <li>
              http://www.ntu.edu.sg/home/ehchua/programming/webprogramming/http_basics.html
            </li>
            <li><strong>Vanilla JavaScript: service workers - https://www.lynda.com/JavaScript-tutorials/Abilities/724809/804528-4.html?autoplay=true</strong></li>
            <li>https://mxb.at/blog/how-to-turn-your-website-into-a-pwa/?utm_content=buffer6cfda&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer</li>
            <li>https://medium.com/plint-sites/build-a-progressive-web-app-using-vue-cli-3-ba040f202d34</li>
          </ol>

          <!-- .end .wrap -->
        </section>
      </article>
      <!-- end article -->
    </main>
    <!-- end main -->

    <!--
      A global footer

       <footer role="contentinfo ">
        <div class="wrap ">
          <p>An <a href="https://github.com/webslides/webslides ">open source solution</a>, by <a href="https://twitter.com/webslides ">@webslides</a>.</p>
        </div>
      </footer>
    -->

    <!-- Required -->
    <script src="././static/js/webslides.js "></script>
    <script>
      window.ws = new WebSlides();
    </script>

    <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
    <script defer src="././static/js/svg-icons.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js "></script>
  </body>
</html>
